(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views"],{"21bb":function(t,e,a){"use strict";var i=a("2dad"),n=a.n(i);n.a},"2dad":function(t,e,a){},bb51:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DWrap",{staticClass:"home",staticStyle:{padding:"16px"}},[a("el-row",{attrs:{gutter:16}},[a("el-col",{attrs:{span:18,offset:3,xs:{span:24,offset:0}}},[a("el-card",{staticClass:"calendar-card"},[a("DTable",{staticClass:"d-h100",attrs:{data:t.programs,config:t.config},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.config;return a("div",{},[a("span",[t._v(t._s(t.today.toLocaleDateString())+" "+t._s(t.$t(i.title)))]),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"text",icon:"fa fa-info-circle"},on:{click:t.openCalendar}})],1)}},{key:"col.start_time",fn:function(e){var i=e.row;return a("div",{},[t._v(" "+t._s(t.formatTime(i.start_time))+" ")])}},{key:"col.ruid",fn:function(e){var i=e.row;return a("div",{staticClass:"col-anchor"},[t.vtbs[i.ruid]?[a("el-avatar",{attrs:{size:"small",src:t.vtbs[i.ruid].face}}),a("span",[t._v(t._s(t.vtbs[i.ruid].uname))])]:t._e()],2)}},{key:"action",fn:function(e){var i=e.row;return a("div",{},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.watch(i.room_id)}}},[t._v(" "+t._s(t.$t("actions.media.watch"))+" ")])],1)}}])})],1)],1),a("el-col"),a("el-col"),a("el-col")],1)],1)},n=[],r=(a("96cf"),a("1da1")),o=a("d4ec"),c=a("bee2"),s=a("262e"),l=a("2caf"),u=a("9ab4"),d=a("60a3"),p=a("4bb5"),f=a("beea"),b=a("7524"),v=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.programs=[],t.vtbs={},t.today=new Date,t.loading=!1,t.config={title:"forms.bili_calendar.$name",showIndex:!0,showAction:!0,columns:[{prop:"start_time",type:"time",i18n:"bili_calendar.start_time",width:80},{prop:"ruid",type:"text",i18n:"bili_calendar.ruid",width:180},{prop:"title",type:"text",i18n:"bili_calendar.title"}]},t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.scriptActive&&this.init()}},{key:"formatTime",value:function(t){return Object(f["a"])(new Date(1e3*t),"hh:mm")}},{key:"init",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(b["b"])(Object(f["a"])(this.today,"yyyy-MM"));case 4:e=t.sent,a=e.data.program_infos,this.vtbs=e.data.user_infos,i=a[this.today.getDate()],i&&(this.programs=i.program_list);case 9:return t.prev=9,this.loading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,,9,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"watch",value:function(t){window.open("//live.bilibili.com/"+t)}},{key:"openCalendar",value:function(){window.open("https://live.bilibili.com/p/html/live-web-calendar/index.html#/follow")}},{key:"day",get:function(){return this.today.getDate()}}]),a}(d["e"]);Object(u["a"])([Object(p["a"])("isScriptActive"),Object(u["c"])("design:type",Boolean)],v.prototype,"scriptActive",void 0),v=Object(u["a"])([d["a"]],v);var m=v,h=m,y=(a("21bb"),a("2877")),w=Object(y["a"])(h,i,n,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=views.996ad99e.js.map